/**
 * File order:
 * - tags
 * - attributes
 * - components
 * - layout
 * - theme
 * - helpers
 *
 * Selector order:
 * - positioning
 * - display & box-model
 * - color
 * - text
 * - other
 *
 * Follows Necolas' Idiomatic-CSS principles
 * https://github.com/necolas/idiomatic-css
 *
 * Process CSS with Myth
 * http://myth.io/
 *
 * Lint with stylelint to enforce style rules
 * https://github.com/stylelint/stylelint
 */

/* ==========================================================================
   Tags
   ========================================================================== */

:root {
  --primary-color: #2c2c57;
  --secondary-color: #5acc95;
  --text-color: #333;
  --scale: 1.618;
  --scale-em: calc(var(--scale) * 1em);
}

* {
  font-family: inherit;
  line-height: inherit;
  color: inherit;
  margin: 0;
}

/* \(*+*)/ */
* + * {
  margin-top: var(--scale-em);
}

html {
  font-size: 115%;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
  line-height: var(--scale);
  color: var(--text-color);
}

@media (max-width: 26em) {
  :root {
    --scale: 1.414;
  }

  html { font-size: 1rem; }
}

body,
li {
  margin-top: 0;
}

label {
  display: block;
}

label + * {
  margin-top: calc(1em / var(--scale));
}

img,
picture,
video,
svg {
  max-width: 100%;
}

h1 {
  font-size: calc(var(--scale) * var(--scale) * 1em);
}

h2 {
  font-size: var(--scale-em);
}

article,
p,
ol,
ul {
  max-width: 35em;
}

/* ==========================================================================
   Attributes
   ========================================================================== */

/**
 * Add emoji after status elements
 */
[data-status]::after {
  margin-left: 5px;
}

[data-status=READ]::after {
  content: '🙋🏻‍♂️';
}

[data-status=DELIVERED]::after {
  content: '💁🏻‍♂️';
}

/* ==========================================================================
   Components
   ========================================================================== */

.chat {
  background: url('asanoha-400px.png');
  max-width: 35em;
  display: flex;
  flex-direction: column;
  padding: var(--scale-em);
  list-style: none;
  box-sizing: border-box;
}

.chat li {
  margin-bottom: calc(1em / var(--scale));
}

.chat [data-user=current] {
  align-self: flex-end;
  text-align: right;
}

.chat li > p {
  background-color: white;
  max-width: max-content;
  padding: calc(1em / var(--scale)) calc(var(--scale) * 1em);
  display: inline-block;
  border-radius: calc(1em / var(--scale) / var(--scale));
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.2);

  /* box-shadow: 0 1px 3px 0 color(var(--text-color) lightness(80%)); */
}

.chat [data-user=current] > p {
  background-color: #a6dfc3;

  /* background-color: color(var(--secondary-color) lightness(80%)); */
}

.chat footer {
  margin: 0;
  margin-top: calc(1em / var(--scale) / var(--scale));
}

.chat footer p {
  font-size: calc(1em / var(--scale));
  margin: 0;
  color: #3335;

  /* color: color(var(--text-color) lightness(50%)); */
}

.chat + form {
  max-width: 35em;
  background-color: #2c2c5788;
  margin-top: 0;
  display: flex;
  padding: calc(1em / var(--scale) / var(--scale)) calc(1em / var(--scale));
  box-sizing: border-box;
  align-items: center;

  /* background-color: color(var(--primary-color) lightness(80%)); */
}

.chat + form textarea {
  flex-grow: 1;
  margin: 0;
  font-size: 1rem;
  border-radius: calc(1em / var(--scale) / var(--scale));
  padding: calc(1em / var(--scale) / var(--scale));
  margin-right: calc(1em / var(--scale));
}

.chat + form button {
  margin: 0;
  appearance: none;
  border: none;
  font-size: 1rem;
  background-color: transparent;
  cursor: pointer;
  color: white;
}

.chat + form label {
  display: none;
}
